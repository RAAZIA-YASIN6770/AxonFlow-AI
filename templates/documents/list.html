{% extends 'base.html' %}

{% block title %}My Documents - AxonFlow AI{% endblock %}

{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
    <div>
        <h1 style="font-size: 2rem; margin-bottom: 0.5rem;">Knowledge Base</h1>
        <p style="color: var(--text-secondary);">Manage your uploaded documents and their processing status.</p>
    </div>
    <a href="{% url 'upload_document' %}" class="glass-button">+ Upload Document</a>
</div>

<div class="doc-grid">
    {% for doc in documents %}
    <div class="glass-panel doc-card" style="position: relative;">
        <h3 style="margin-bottom: 0.5rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ doc.title
            }}</h3>
        <p style="font-size: 0.9rem; color: var(--text-secondary);">Uploaded: {{ doc.uploaded_at|date:"M d, Y" }}</p>
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;">
            <span class="status-badge status-{{ doc.processing_status }}">
                {{ doc.get_processing_status_display }}
            </span>
            <span style="font-size: 0.8rem; color: var(--text-secondary);">PDF</span>
        </div>
        <a href="{% url 'delete_document' doc.id %}" class="delete-btn" title="Delete document"
            style="position: absolute; top: 1rem; right: 1rem; color: #ef4444; font-size: 1.2rem; opacity: 0; transition: opacity 0.2s;">
            ğŸ—‘ï¸
        </a>
    </div>
    {% empty %}
    <div style="grid-column: 1 / -1; text-align: center; padding: 4rem; color: var(--text-secondary);">
        <p>No documents found. Start by uploading one!</p>
    </div>
    {% endfor %}
</div>
{% endblock %}