{% extends 'base.html' %}

{% block title %}Register - AxonFlow AI{% endblock %}

{% block content %}
<div style="max-width: 450px; margin: 4rem auto;">
    <div class="glass-panel" style="padding: 2rem;">
        <h2 style="margin-bottom: 2rem; text-align: center;">Create Account</h2>

        <form method="post">
            {% csrf_token %}

            {% if form.errors %}
            <div
                style="background: rgba(239, 68, 68, 0.1); border: 1px solid #ef4444; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem;">
                <strong style="color: #ef4444;">Please correct the errors below:</strong>
                <ul style="margin: 0.5rem 0 0 1.5rem; color: #ef4444;">
                    {% for field in form %}
                    {% for error in field.errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            <div class="form-group">
                <label for="id_username">Username</label>
                <input type="text" name="username" autofocus required id="id_username"
                    value="{{ form.username.value|default:'' }}">
                <small style="color: var(--text-secondary); font-size: 0.85rem;">
                    Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.
                </small>
            </div>

            <div class="form-group">
                <label for="id_email">Email</label>
                <input type="email" name="email" id="id_email" value="{{ form.email.value|default:'' }}">
                <small style="color: var(--text-secondary); font-size: 0.85rem;">
                    Optional but recommended for password recovery.
                </small>
            </div>

            <div class="form-group">
                <label for="id_password1">Password</label>
                <input type="password" name="password1" required id="id_password1">
                <small style="color: var(--text-secondary); font-size: 0.85rem;">
                    Your password must contain at least 8 characters.
                </small>
            </div>

            <div class="form-group">
                <label for="id_password2">Confirm Password</label>
                <input type="password" name="password2" required id="id_password2">
                <small style="color: var(--text-secondary); font-size: 0.85rem;">
                    Enter the same password as before, for verification.
                </small>
            </div>

            <button type="submit" class="glass-button" style="width: 100%; margin-top: 1rem;">
                Create Account
            </button>
        </form>

        <p style="margin-top: 1.5rem; text-align: center; font-size: 0.9rem; color: var(--text-secondary);">
            Already have an account?
            <a href="{% url 'login' %}" style="color: var(--accent-primary);">Sign In</a>
        </p>
    </div>
</div>
{% endblock %}